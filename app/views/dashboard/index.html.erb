<style>
.text-hey-pink { color: #fe68b3; }
.bg-hey-pink-light { background-color: #ffeef6; }
.bg-hey-blue-light { background-color: #e8f3ff; }
.bg-hey-purple-light { background-color: #f6e6ff; }
.bg-hey-green-light { background-color: #ecf8e5; }
.text-hey-blue { color: #51a3ff; }
.text-hey-green { color: #62b95b; }
.text-hey-purple { color: #a259ff; }
</style>
<div class="flex flex-col md:flex-row">
    <!-- Sidebar -->
    <div class="mr-0 md:mr-6 lg:mr-64">
        <%= render 'sidebar' %>
    </div>

    <!-- Header -->
    <main class="flex-auto p-6 lg:p-12">
        <div class="flex justify-between items-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold tracking-tight">Dashboard</h1>
            <%= link_to "New Offer", new_offer_path, class: "font-semibold bg-green-700 px-4 py-3 rounded-full hover:bg-green-800 transition transition-colors duration-200" %>
        </div>

        <hr class="border-t border-gray-300 mb-8 dark:border-slate-700">

        <!-- Statistics Cards -->
        <div class="flex md:flex-row flex-col lg:gap-8 lg:mb-12 mb-8 gap-4 justify-center">
            <!-- Total Offers Card -->
            <div class="card w-fit min-w-96 flex">
                <div class="flex flex-row items-center">
                    <div class="p-4 bg-hey-purple-light rounded-lg dark:ring-2 dark:ring-purple-400 mr-4 transition-all duration-500">
                        <svg class="w-8 h-8 text-hey-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6h13M9 6l-2 2m0 0l-2-2m2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2H9z"></path>
                        </svg>
                    </div>
                    <div class="flex flex-row gap-4">
                        <div class="flex flex-col lg:border-r border-gray-300 dark:border-slate-600 px-4">
                            <h2 class="text-2xl font-semibold">Total Offers</h2>
                            <p class="text-3xl font-bold text-hey-purple"><%= @pagy.count %></p>
                        </div>
                        <div class="lg:flex flex-col border-r border-gray-300 dark:border-slate-600 pl-4 pr-6 hidden">
                            <h2 class="text-2xl font-semibold">Active Offers</h2>
                            <p class="text-3xl font-bold text-hey-green"><%= @pagy.count %></p>
                        </div>
                        <div class="lg:flex flex-col border-r border-gray-300 dark:border-slate-600 px-4 hidden">
                            <h2 class="text-2xl font-semibold">Pending Offers</h2>
                            <p class="text-3xl font-bold text-hey-blue">0</p>
                        </div>
                        <div class="lg:flex flex-col px-4 hidden">
                            <h2 class="text-2xl font-semibold">Expired Offers</h2>
                            <p class="text-3xl font-bold text-red-600">0</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card flex w-fit min-w-96">
                <div class="flex flex-row items-center">
                    <div class="p-4 bg-hey-pink-light rounded-lg mr-4">
                        <svg class="w-8 h-8 text-hey-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6h13M9 6l-2 2m0 0l-2-2m2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2H9z"></path>
                        </svg>
                    </div>
                    <div class="flex flex-col">
                        <h2 class="text-2xl font-semibold">Total Views</h2>
                        <p class="text-3xl font-bold text-hey-pink"><%= @total_view_count %></p>
                    </div>
                </div>
            </div>
            <div class="card flex w-fit min-w-96">
                <div class="flex flex-row items-center">
                    <div class="p-4 bg-orange-100 rounded-lg mr-4">
                        <svg class="w-8 h-8 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6h13M9 6l-2 2m0 0l-2-2m2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2H9z"></path>
                        </svg>
                    </div>
                    <div class="flex flex-col">
                        <h2 class="text-2xl font-semibold">Total Interactions</h2>
                        <p class="text-3xl font-bold text-orange-500"><%= @total_interaction_count %></p>
                    </div>
                </div>
            </div>
            <div class="card flex w-fit min-w-96">
                <div class="flex flex-row items-center">
                    <div class="p-4 bg-amber-100 rounded-lg mr-4">
                        <svg class="w-8 h-8 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6h13M9 6l-2 2m0 0l-2-2m2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2H9z"></path>
                        </svg>
                    </div>
                    <div class="flex flex-col">
                        <h2 class="text-2xl font-semibold">Total Applications</h2>
                        <p class="text-3xl font-bold text-amber-500"><%= @total_application_count %></p>
                    </div>
                </div>
            </div>
        </div>


        <!-- Filter and Search Bar -->
        <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4">
            <div class="flex space-x-2">
                <input type="text" placeholder="Search offers..." class="border border-gray-300 rounded-full bg-white hover:bg-gray-100 focus:bg-gray-100 dark:border-slate-600 dark:bg-slate-700 dark:hover:bg-gray-600 dark:focus:bg-gray-600 px-4 py-2 w-full md:w-64 focus:outline-none focus:ring-2 focus:border-transparent transition transition-all duration-200" />
                <button class="border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 text-sm bg-white dark:bg-slate-700 hover:inset-shadow-sm dark:inset-shadow-gray-500 cursor-pointer transition-all duration-200">All</button>
                <button class="border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 bg-white dark:bg-slate-700 hover:inset-shadow-sm dark:inset-shadow-gray-500 text-sm cursor-pointer transition-all duration-200">Active</button>
                <button class="border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 bg-white dark:bg-slate-700 hover:inset-shadow-sm dark:inset-shadow-gray-500 text-sm cursor-pointer transition-all duration-200">Pending</button>
                <button class="border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 bg-white dark:bg-slate-700 hover:inset-shadow-sm dark:inset-shadow-gray-500 text-sm cursor-pointer transition-all duration-200">Expired</button>
            </div>
        </div>

        <!-- Job Offer Cards -->
        <div class="grid grid-cols-1 xl:grid-cols-2 xl:grid-cols-3 gap-8 mb-4">
            <% for offer in @offers %>
                <div class="card flex-none flex-col min-w-full">
                    <div class="flex justify-between items-start mb-4">
                        <h2 class="text-xl font-bold"><%= offer.title %></h2>
                        <div class="flex flex-row items-end space-x-2">
                            <span class="bg-hey-green-light text-hey-green font-semibold text-xs px-3 py-1 rounded-full"><%= offer.verification_status %></span>
                            <span class="bg-hey-green-light text-hey-green font-semibold text-xs px-3 py-1 rounded-full"><%= offer.status %></span>
                        </div>
                    </div>
                    <p class="text-sm mb-2"><%= offer.company_name %> | <%= offer.job_type.capitalize %> | <%= offer.contract_type.capitalize %></p>
                    <p class="text-sm mb-4"> <%= offer.city %>, <%= offer.country %></p>
                    <p class="text-sm mb-4"> View count: <%= offer.view_count %> </p>
                    <div class="flex justify-end space-x-2 mt-4">
                        <%= button_to 'Edit', edit_offer_path(offer), method: :get, class: 'border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 bg-white dark:bg-slate-700 dark:hover:bg-gray-600 hover:inset-shadow-sm dark:inset-shadow-gray-500 text-sm cursor-pointer transition-all duration-200' %>
                        <%= button_to 'Delete', offer_path(offer), method: :delete, form: { data: { turbo_confirm: 'Are you sure?' } }, class: 'border border-gray-300 dark:border-slate-600 rounded-full py-2 px-4 bg-white dark:bg-slate-700 dark:hover:bg-gray-600 hover:inset-shadow-sm dark:inset-shadow-gray-500 text-sm cursor-pointer transition-all duration-200' %>
                    </div>
                </div>
            <% end %>
        </div>
        <% if @offers.any? %>
            <%== pagy_info(@pagy) %>
            <%== pagy_nav(@pagy) %>
        <% end %>
    </main>
</div>
